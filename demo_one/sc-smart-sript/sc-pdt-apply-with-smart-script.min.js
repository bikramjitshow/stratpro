!function r(i,a,o){function u(t,e){if(!a[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(l)return l(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}n=a[t]={exports:{}},i[t][0].call(n.exports,function(e){return u(i[t][1][e]||e)},n,n.exports,r,i,a,o)}return a[t].exports}for(var l="function"==typeof require&&require,e=0;e<o.length;e++)u(o[e]);return u}({1:[function(e,t,n){"use strict";function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===i(e)?e:String(e)}(r.key),r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this.oneLink=null,this.deepLink=null,this.defaultParams={mediaSource:{keys:["media_source"],defaultValue:"Website"},campaign:{keys:["campaign"],defaultValue:"NA"},cid:{paramKey:"cid",keys:["cid"],defaultValue:"NA"},channel:{defaultValue:"Website"},custom_ss_ui:{paramKey:"af_ss_ui",defaultValue:"true"}}}var t,n,r;return t=e,(n=[{key:"init",value:function(){var n=this;document.addEventListener("DOMContentLoaded",function(){document.body.addEventListener("click",function(e){var t=e.target.closest("a");t&&n.handleModalEvent(t,e)}),n.initializeOnelink()})}},{key:"customEncodeUrl",value:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").replace(/&/g,"%26").replace(/\?/g,"%3F").replace(/:/g,"%3A").replace(/\//g,"%2F")}},{key:"handleModalEvent",value:function(e,t){var n,r=this;e.getAttribute("href")&&e.getAttribute("data-modal-source")&&(e=document.querySelector(".c-modal.is-open"))&&(t.preventDefault(),t=null==(n=e.querySelector(".m-text-content"))?void 0:n.getAttribute("data-modal-id"),n)&&t&&setTimeout(function(){var e,t=n.querySelector(".sc-pdt-apply-with-smart-script");t&&(r.oneLink=t.getAttribute("data-one-link"),r.deepLink=t.getAttribute("data-deep-link"),e=r.customEncodeUrl(r.deepLink),e=r.generateOneLinkURL(r.oneLink,e))&&(r.generateQr(t,e),r.updateLink(t,e))},400)}},{key:"initializeOnelink",value:function(){var n=this;document.querySelectorAll(".sc-pdt-apply-with-smart-script").forEach(function(e){n.oneLink=e.getAttribute("data-one-link"),n.deepLink=e.getAttribute("data-deep-link");var t=n.customEncodeUrl(n.deepLink),t=n.generateOneLinkURL(n.oneLink,t);t&&(n.generateQr(e,t),n.updateLink(e,t))})}},{key:"generateOneLinkURL",value:function(e,t){var n,r,i,a,o;return e?(n=(o=this.defaultParams).mediaSource,r=o.campaign,i=o.cid,a=o.channel,o=o.custom_ss_ui,window.AF_SMART_SCRIPT.generateOneLinkURL({oneLinkURL:e,afParameters:{mediaSource:n,campaign:r,deepLinkValue:{defaultValue:t},afCustom:[i,o],channel:a}})):null}},{key:"generateQr",value:function(e,t){t&&t.clickURL&&(t=e.querySelector(".sc-pdt-apply-with-smart-script__onelink-qr-container"))&&(t.querySelectorAll("canvas").forEach(function(e){return e.remove()}),e=t.getAttribute("id").trim(),window.AF_SMART_SCRIPT.displayQrCode(e))}},{key:"updateLink",value:function(e,t){t&&t.clickURL&&e.querySelectorAll(".sc-pdt-apply-with-smart-script__onelink-btn").forEach(function(e){e.setAttribute("href",t.clickURL)})}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}());r.init(),n.default=r},{}]},{},[1]);