<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Text-to-Speech</title>
</head>
<body>

  <div class="form-group">
    <input type="text" class="form-control" id="input" placeholder="Enter text to speak"/>
    <button type="button" class="btn">Speak</button>
  </div>

  <script>
    const btn = document.querySelector(".btn");
    let voices = [];

    // Load available voices
    const loadVoices = () => {
      voices = speechSynthesis.getVoices();
      if (voices.length === 0) {
        console.error("No voices available for speech synthesis.");
      }
    };

    // Trigger loadVoices when voices are loaded
    speechSynthesis.addEventListener('voiceschanged', loadVoices);
    loadVoices();

    btn.addEventListener("click", () => {
      const input = document.querySelector("#input");
      const text = input.value.trim();

      if (text) {
        const utterance = new SpeechSynthesisUtterance(text);
        if (voices.length > 0) {
          utterance.voice = voices[0];  // Use the first available voice
        }
        speechSynthesis.speak(utterance);
      } else {
        alert("Please enter some text.");
      }
    });
  </script>
  
</body>
</html>
