!function o(a,n,i){function l(t,e){if(!n[t]){if(!a[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(c)return c(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}r=n[t]={exports:{}},a[t][0].call(r.exports,function(e){return l(a[t][1][e]||e)},r,r.exports,o,a,n,i)}return n[t].exports}for(var c="function"==typeof require&&require,e=0;e<i.length;e++)l(i[e]);return l}({1:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=(e=e("../../../assets/js/commons/sc-common-methods"))&&e.__esModule?e:{default:e};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,a,n,i,l=[],c=!0,s=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=n.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||function(e,t){var r;if(e)return"string"==typeof e?o(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function l(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===a(e)?e:String(e)}(o.key),o)}}e=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,r,o;return t=e,(r=[{key:"init",value:function(){var e,t,o,a,n=this,r=(n.mgmRefer=document.querySelector(".sc-mgm-refer"),window.mgmObject.queryParameter||"code"),r=(n.queryString=Utils.getPageContext().queryString,n.codeValue=i.default.getQueryParam(n.queryString,r),document.querySelector(".sc-error-modal"));n.codeValue?(e=i.default.getQueryParam(n.queryString,window.mgmObject.pdtQueryParameter),t=i.default.getQueryParam(n.queryString,window.mgmObject.segmentQueryParameter),e?n.handlePdtParameter(e):t&&n.handleSegmentParameter(t),(e=document.querySelector(".sc-mgm-refer__code-text"))&&(e.textContent=n.codeValue),t=document.querySelector(".sc-mgm-refer__copy-code"),t&&t.addEventListener("click",function(){n.copyReferralCode(n.codeValue)}),o=!1,a="",n.isTermModalRequire=!1,n.isTermModalActive=!1,setTimeout(function(){var e=n.mgmRefer.querySelectorAll("a[href='#null']");e.length&&e.forEach(function(t){t.addEventListener("click",function(e){o=!0,a=t.getAttribute("data-modal-source"),"true"===t.getAttribute("data-terms-enable")?n.isTermModalRequire=!0:(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),e.target.classList.contains("sc-mgm-refer-pdt-btn")&&n.pdtBtnShare(e.target,n.codeValue))})})},100),document.body.addEventListener("click",function(e){var t,r;o&&(t=e.target.closest("a"),r=document.querySelector(".m-text-content").getAttribute("data-term-modal"),-1!==e.target.className.indexOf("closebutton")||-1!==e.target.className.indexOf("wrapper")?(o=!1,r&&(n.triggerCtaClickTagging(e),n.termsModalClosed(a))):t&&"#null"===t.getAttribute("href")&&e.target.closest(".m-text-content")&&(r=t.getAttribute("title")?t.getAttribute("title"):t.innerText||t.textContent||t.getAttribute("data-context")||t.getAttribute("aria-label"))&&n.triggerPopupViewedTagging(r.trim()),e.target.classList.contains("sc-mgm-refer-tc")&&window.tcmObject.termsAccepted&&!window.tcmObject.termsUpdated?(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),setTimeout(function(){n.checkAndUpdateDate(),n.pdtBtnShare(e.target,n.codeValue)},1e3)):e.target.classList.contains("sc-mgm-refer-tc")&&n.isTermModalRequire&&!window.tcmObject.termsAccepted?(n.isTermModalActive=!0,n.termsModalActive(e),(r=t.getAttribute("title")?t.getAttribute("title"):t.innerText||t.textContent||t.getAttribute("data-context")||t.getAttribute("aria-label"))&&n.triggerPopupViewedTagging(r.trim())):e.target.classList.contains("sc-mgm-refer-tc")&&n.isTermModalRequire&&window.tcmObject.termsAccepted&&window.tcmObject.termsUpdated&&(n.isTermModalActive=!0,n.termsModalActive(e),r=t.getAttribute("title")?t.getAttribute("title"):t.innerText||t.textContent||t.getAttribute("data-context")||t.getAttribute("aria-label"))&&n.triggerPopupViewedTagging(r.trim()))}),n.checkAndUpdateDate(),n.handleReferInfo(),n.handleCardsFilter(),n.handleViewAll()):r.classList.add("sc-error-modal--show")}},{key:"handleViewAll",value:function(){var t,r,o,a,n,i,e=this,l=e.mgmRefer.querySelector(".sc-mgm-refer__view-all");l&&(t=e.mgmRefer.querySelectorAll(".sc-mgm-personalised-box"),r=e.mgmRefer.querySelector(".sc-mgm-product-slider"),o=e.mgmRefer.querySelector(".sc-mgm-card__wrapper"),a=e.mgmRefer.querySelector(".sc-mgm-refer-personalised .sc-filter"),n=e.mgmRefer.querySelector(".sc-mgm-refer-personalised .sc-mgm-refer__rewarded"),i=e.mgmRefer.querySelector(".sc-mgm-refer-personalised .sc-bottom-btn"),l.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),e.target.classList.add("hide"),t.length&&t.forEach(function(e){return e.classList.add("hide")}),null!=r&&r.classList.add("hide"),null!=o&&o.classList.remove("hide"),a&&(a.style.display="block"),n&&(n.style.display="block"),i&&(i.style.display="block")}))}},{key:"copyReferralCode",value:function(e){var t=document.createElement("input"),r=(t.setAttribute("type","text"),t.setAttribute("value",e),t.style.height=0,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t),document.querySelector(".sc-mgm-refer__code-box")),o=document.createElement("div");o.className="sc-mgm-refer__copy-msg",o.textContent="Copied successfully",r.parentNode.insertBefore(o,r.nextSibling),setTimeout(function(){r.parentNode.removeChild(o)},5e3)}},{key:"pdtBtnShare",value:function(e,t){var r=e.getAttribute("data-shareTitle"),o=e.getAttribute("data-shareText"),e=e.getAttribute("data-shareURL");e&&(e=e.split("data-share-code").join(t),o=o.split("data-share-code").join(t),"true"===i.default.getQueryParam(this.queryString,"isFromUniversalDeeplink")?cordova.exec(function(){return console.log("success callback")},function(e){return console.error(e)},"SocialSharing","shareWithOptions",[{title:r,message:o,type:"url",url:e}]):"Android"===(t=Utils.getDeviceDetails().os)?window.Android.shareAction(JSON.stringify({shareTitle:r,shareURL:e,shareText:o})):"iOS"===t&&window.webkit.messageHandlers.shareAction.postMessage({shareTitle:r,shareURL:e,shareText:o}))}},{key:"handleReferInfo",value:function(){var e=Utils.getLocalStorageWithExpiry("scMgmReferral"),t=this.mgmRefer.querySelector(".sc-mgm-refer__how-to"),r=this.mgmRefer.querySelector(".sc-mgm-refer__how-refer"),e=(e?(r.classList.add("hide"),t.classList.remove("hide")):(r.classList.remove("hide"),t.classList.add("hide")),this.mgmRefer.querySelector(".sc-mgm-refer__how-refer-close"));e&&e.addEventListener("click",function(){r.classList.add("hide"),t.classList.remove("hide")}),t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),r.classList.remove("hide"),t.classList.add("hide")}),Utils.setLocalStorageWithExpiry("scMgmReferral",!0,864e6)}},{key:"handleCardsFilter",value:function(){var n=this,e=n.mgmRefer.querySelectorAll(".sc-filter__btn");e.length&&e.forEach(function(e){e.addEventListener("click",function(e){var t=n.mgmRefer.querySelector(".sc-filter__btn--active"),r=(t&&t.classList.remove("sc-filter__btn--active"),e.target.classList.add("sc-filter__btn--active"),e.target.getAttribute("data-categories")),o=n.mgmRefer.querySelectorAll("[data-cards]");if(o.length)for(var a=0;a<o.length;a++)"all"===r||r===o[a].getAttribute("data-cards")?o[a].classList.remove("hide"):o[a].classList.add("hide")})})}},{key:"handlePdtParameter",value:function(e){var t=this,r=(t.mgmRefer.classList.add("sc-mgm-refer-personalised"),t.mgmRefer.querySelector(".sc-mgm-personalised-box")),o=t.mgmRefer.querySelector(".sc-mgm-product-slider"),a=t.mgmRefer.querySelector(".sc-mgm-card__wrapper");r&&(r.classList.remove("hide"),t=t.mgmRefer.querySelector(["div[data-product-name='".concat(e,"']")]))&&((e=t.cloneNode(!0)).removeAttribute("data-product-name"),r.innerHTML="",r.appendChild(e)),null!=o&&o.classList.remove("hide"),null!=a&&a.classList.add("hide")}},{key:"handleSegmentParameter",value:function(r){r=r.toLowerCase();var e=this.mgmRefer.querySelectorAll("[data-segment-cards]"),t=this.mgmRefer.querySelector(".sc-mgm-card__wrapper");e.length&&(e=Array.from(e).filter(function(e){var t;if(e.getAttribute("data-segment-cards").toLowerCase().split(",").includes(r))return t=e.cloneNode(!0),e.remove(),t})).length&&(e.reverse(),e.forEach(function(e){t.insertBefore(e,t.firstChild)}))}},{key:"termsState",value:function(){var e=!1,t=localStorage.getItem("termUpdatedDate"),r=this.getCookie("termUpdatedDate"),o=localStorage.getItem("oldtermUpdatedDate"),a=this.getCookie("oldtermUpdatedDate"),n="true"===localStorage.getItem("termsAccepted"),i="true"===this.getCookie("termsAccepted");return(o||a)&&(e=o!==t||a!==r),window.tcmObject={termsUpdated:e,termsAccepted:n||i},window.tcmObject}},{key:"termsModalActive",value:function(t){var r=this,o=(r.isTermModalActive=!1,t.target.closest("a"));r.isTermModalRequire&&(r.isTermModalActive=!0,o)&&"#null"===o.getAttribute("href")&&t.target.classList.contains("sc-mgm-refer-tc")&&setTimeout(function(){var e;o.getAttribute("data-modal-source")===document.querySelector(".m-text-content").getAttribute("data-modal-id")&&(e=document.querySelector(".sc-info-tile"),window.tcmObject.termsUpdated?e.classList.remove("hide"):e.classList.add("hide"),r.activeScrollToBottom(t))},200)}},{key:"termsModalClosed",value:function(){this.isTermModalActive=!1}},{key:"activeScrollToBottom",value:function(e){var o=this,a=e,n=document.querySelector(".sc-products-tile__scroll-step"),i=n.getAttribute("data-last-title"),l=document.querySelector(".sc-products-tile__download-button"),c=document.querySelector(".m-text-content"),s=0,u=4,d=!1,m=document.querySelector(".wrapper");window.tcmObject.termsAccepted&&(m.click(),setTimeout(function(){o.checkAndUpdateDate(),o.pdtBtnShare(a.target,o.codeValue)},1e3));c.addEventListener("scroll",function(){var e=c.scrollTop+c.clientHeight;c.scrollHeight-1<=e&&(d=!0,l.closest("li").style.display="none",n.setAttribute("title",i),n.children[0].innerText=i,n.children[1].innerText=i)}),n.addEventListener("click",function(e){var t,r;e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),d||u<=s?(localStorage.setItem("termsAccepted",!0),o.setCookie("termsAccepted",!0,365),localStorage.setItem("oldtermUpdatedDate",localStorage.getItem("termUpdatedDate")),o.setCookie("oldtermUpdatedDate",o.getCookie("termUpdatedDate"),365),o.termsState(),m.click(),setTimeout(function(){o.checkAndUpdateDate(),o.pdtBtnShare(a.target,o.codeValue)},1e3)):(s++,e=1,r=(t=c).scrollHeight-t.clientHeight,t.scrollBy({top:r/u*e,behavior:"smooth"}),t.scrollTop+t.clientHeight>=t.scrollHeight&&(d=!0),u<=s&&(l.closest("li").style.display="none",n.setAttribute("title",i),n.children[0].innerText=i,n.children[1].innerText=i,d=!0))})}},{key:"setCookie",value:function(e,t,r){var o,a="";r&&((o=new Date).setTime(o.getTime()+24*r*60*60*1e3),a="; expires="+o.toUTCString()),document.cookie=e+"="+(t||"")+a+"; path=/"}},{key:"getCookie",value:function(e){for(var t=e+"=",r=document.cookie.split(";"),o=0;o<r.length;o++){for(var a=r[o];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null}},{key:"isValidUTCTimestamp",value:function(e){var e=parseInt(e,10),t=new Date(e);return!isNaN(e)&&0<t.getTime()}},{key:"convertToUTCTimestamp",value:function(e){var e=n(e.split("/").map(Number),3),t=e[0],r=e[1],e=e[2];return new Date(Date.UTC(e,r-1,t)).getTime()}},{key:"checkAndUpdateDate",value:function(){var e=this,t=document.querySelector(".m-text-content").getAttribute("data-term-updated-date"),t=e.convertToUTCTimestamp(t),r=localStorage.getItem("termUpdatedDate"),o=e.getCookie("termUpdatedDate");e.isValidUTCTimestamp(r)||(console.warn("Invalid timestamp in localStorage, resetting to the new value."),r=null),e.isValidUTCTimestamp(o)||(console.warn("Invalid timestamp in cookies, resetting to the new value."),o=null),null===r||null===o?(localStorage.setItem("termUpdatedDate",t),e.setCookie("termUpdatedDate",t,365)):(r=Number(r),o=Number(o),r<t&&(localStorage.setItem("oldtermUpdatedDate",r),e.setCookie("oldtermUpdatedDate",o,365),localStorage.setItem("termUpdatedDate",t),e.setCookie("termUpdatedDate",t,365),localStorage.setItem("termsAccepted",!1),e.setCookie("termsAccepted",!1,365))),e.termsState()}},{key:"triggerPopupViewedTagging",value:function(e){setTimeout(function(){digitalData.event="popupViewed",digitalData.form={},digitalData.form.formName="",digitalData.form.formStepName="",digitalData.form.formType="",digitalData.form.formPlatform="",digitalData.form.popupName=e,console.log({digitalData:digitalData}),_satellite.track("popupViewed")},500)}},{key:"triggerCtaClickTagging",value:function(e){var t="button"==e.target.type?e.target.type:"link",r=e.target.getAttribute("title")?e.target.getAttribute("title"):e.target instanceof SVGElement||e.target.getElementsByTagName("svg").length||e.target.classList.contains("closebutton")?"Close":(e.target.innerText||e.target.textContent).trim().toLowerCase();digitalData.event="ctaClick",digitalData.ctaName=r,digitalData.ctaType=t,digitalData.ctaPosition=this.getHorizontalPosition(e.clientX)+" "+Utils.calcElementLocation(e.target),console.log({digitalData:digitalData}),_satellite.track("callToAction")}},{key:"getHorizontalPosition",value:function(e){return e<Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)/2?"left":"right"}}])&&l(t.prototype,r),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}());e.init(),r.default=e},{"../../../assets/js/commons/sc-common-methods":2}],2:[function(e,t,r){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var o,a,n,i,l=[],c=!0,s=!1;try{if(n=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(o=n.call(r)).done)&&(l.push(o.value),l.length!==t);c=!0);}catch(e){s=!0,a=e}finally{try{if(!c&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(s)throw a}}return l}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){var r;if(e)return"string"==typeof e?o(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,o=new Array(t);r<t;r++)o[r]=e[r];return o}function n(e,t){for(var r=0;r<t.length;r++){var o=t[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,function(e){e=function(e,t){if("object"!==a(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"===a(e)?e:String(e)}(o.key),o)}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function")}var t,r,o;return t=e,(r=[{key:"getQueryParam",value:function(e,t){var r,o="",a=function(e,t){var r,o,a,n,i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return o=!(r=!0),{s:function(){i=i.call(e)},n:function(){var e=i.next();return r=e.done,e},e:function(e){o=!0,a=e},f:function(){try{r||null==i.return||i.return()}finally{if(o)throw a}}};if(Array.isArray(e)||(i=s(e))||t&&e&&"number"==typeof e.length)return i&&(e=i),n=0,{s:t=function(){},n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(e.split("&"));try{for(a.s();!(r=a.n()).done;){var n=c(r.value.split("="),2),i=n[0],l=n[1];if(i===t){o=l;break}}}catch(e){a.e(e)}finally{a.f()}return o}},{key:"changeURL",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",e=window.location.protocol+"//"+window.location.host+window.location.pathname+(e?"?".concat(e):"");window.history.pushState({path:e},"",e)}},{key:"smoothScroll",value:function(e,o){var a,n,i,l,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,c=3<arguments.length&&void 0!==arguments[3]?arguments[3]:window;e&&(a=this,n=e.getBoundingClientRect().top-t,i=c===window?window.pageYOffset:0,l=null,requestAnimationFrame(function e(t){var t=t-(l=null===l?t:l),r=a.ease(t,i,n,o);c.scrollTo(0,r),t<o&&requestAnimationFrame(e)}))}},{key:"ease",value:function(e,t,r,o){return(e/=o/2)<1?r/2*e*e+t:-r/2*(--e*(e-2)-1)+t}},{key:"getPosition",value:function(e){if(!e)return"";for(var t=0;e;)t+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return t}}])&&n(t.prototype,r),o&&n(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}());r.default=i},{}]},{},[1]);